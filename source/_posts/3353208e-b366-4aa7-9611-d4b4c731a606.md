---
layout: post
title: "FlickrNet開發系列- 使用FlickrNet上傳照片至Flickr"
date: 2013-11-06 12:00:00
comments: true
categories: 
description: "FlickrNet開發系列- 使用FlickrNet上傳照片至Flickr"
---
<p>透過FlickrNet上傳照片至Flickr十分簡單，我們可以透過FlickrNet.UploadPicture與FlickrNet.UploadPictureAsync這兩個方法來達成需求，支援同步與非同步上傳。圖片上傳時也可以透過OnUploadProgress事件取得上傳的進度。</p>  <p><img style="border-bottom: 0px; border-left: 0px; border-top: 0px; border-right: 0px" border="0" alt="image" src="\images\posts\3353208e-b366-4aa7-9611-d4b4c731a606\image_thumb_3.png" width="389" height="221" /></a> </p>  <p> </p>  <p>上傳事件的參數可以取得像是傳送了多少Byte、傳送了幾趴、總共傳了多少Byte、與是否上傳完成...等</p>  <p><a href="http://files.dotblogs.com.tw/larrynung/1203/FlickrNetFlickrNetFlickr_13541/image_10.png"><img style="border-bottom: 0px; border-left: 0px; border-top: 0px; border-right: 0px" border="0" alt="image" src="\images\posts\3353208e-b366-4aa7-9611-d4b4c731a606\image_thumb_4.png" width="297" height="230" /> </p>  <p> </p>  <p>這邊是個簡單的實作範例：</p>  <div style="padding-bottom: 0px; margin: 0px; padding-left: 0px; padding-right: 0px; display: inline; float: none; padding-top: 0px" id="scid:812469c5-0cb0-4c63-8c15-c81123a09de7:369687ba-fbd5-4d83-90e7-329ef0c003ce" class="wlWriterSmartContent"><pre name="code" class="c#">            var dialog = new OpenFileDialog() 
            {
                Filter = "JPEG File|*.jpg"
            };

            if (dialog.ShowDialog() != System.Windows.Forms.DialogResult.OK)
                return;

            var form = new Form();
            var progress = new ProgressBar() 
            {
                Maximum = 100,
                Dock = DockStyle.Fill
            };

            form.Controls.Add(progress);
            form.Size = new System.Drawing.Size(200, 100);

            m_Flickr.OnUploadProgress += (s, ex) =&gt;
                {
                    progress.Value = ex.ProcessPercentage;
                };

            form.Show();
            m_Flickr.UploadPicture(dialog.FileName,
                "Photo1", "Just test upload");</pre></div>

<p> </p>

<p>運行起來後會跳出開啟對話框，選取要上傳的圖片檔案後按下確定按鈕，上傳進度對話框就會出現，進度更新會即時顯示，就像下圖一樣。</p>

<p><img style="border-bottom: 0px; border-left: 0px; border-top: 0px; border-right: 0px" border="0" alt="image" src="\images\posts\3353208e-b366-4aa7-9611-d4b4c731a606\image_thumb_1.png" width="304" height="304" /></p>

<p> </p>

<p> 上傳完畢圖片就會在Flickr上，下圖中的無尾熊與鬱金香就是筆者測試實上傳的圖片。</p>

<p><img style="border-bottom: 0px; border-left: 0px; border-top: 0px; border-right: 0px" border="0" alt="image" src="\images\posts\3353208e-b366-4aa7-9611-d4b4c731a606\image_thumb_2.png" width="614" height="484" /></p>