---
layout: post
title: "[Visual Studio]使用MSBuild的平行建置功能加速Visual Studio的建置"
date: 2011-11-02 01:04:58
comments: true
tags: [Visual Studio]
description: "[Visual Studio]使用MSBuild的平行建置功能加速Visual Studio的建置"
---
<p>筆者在[Visual Studio]使用VSSpeedster加速Visual Studio建置</a>這篇介紹到可以使用VSSpeedster外掛啟用平行建置，加速Visual Studio的建置，文中有帶出該外掛元件背後是透過MSBuild來達到平行建置的效果。那麼是否可以不安裝這類的外掛而直接透過整合MSBuild來平行建置呢？答案是肯定的，開發人員可開啟Visual Studio IDE，點選[Tools/External Tools...]選單選項，帶出External Tools設定對話框。</p>  <p><a href="http://files.dotblogs.com.tw/larrynung/1111/c146141457b2_B146/image_2.png"><img style="border-right-width: 0px; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px" border="0" alt="image" src="\images\posts\49918\image_thumb.png" width="394" height="489" /></a></p>  <p> </p>  <p>External Tools設定對話框彈出後，按下右側的[Add]按鈕，填入自己設定的Title，Command部分設定MSBuild.exe的位置(可在 [作業系統安裝路徑]\Microsoft.NET\Framework 下找到)，參數的部分若是Release版的設定/m $(SolutionFileName) /v:m /property:Configuration=Release，是Debug版的話設定/m $(SolutionFileName) /v:m即可，至於Initial directory部分設定為$(SolutionDir)，特別注意下方的[Use Output window]選像要勾選，這樣建置的資訊才會導到輸出視窗。</p>  <table border="1" cellspacing="0" cellpadding="2" width="640"><tbody>     <tr>       <td valign="top" width="213"> </td>        <td valign="top" width="213">Debug</td>        <td valign="top" width="213">Release</td>     </tr>      <tr>       <td valign="top" width="213">Arguments</td>        <td valign="top" width="213">/m $(SolutionFileName) /v:m /property:Configuration=Release</td>        <td valign="top" width="213">/m $(SolutionFileName) /v:m</td>     </tr>      <tr>       <td valign="top" width="213">Initial directory</td>        <td valign="top" width="213">$(SolutionDir)</td>        <td valign="top" width="213">$(SolutionDir)</td>     </tr>   </tbody></table>  <p> </p>  <p><a href="http://files.dotblogs.com.tw/larrynung/1111/c146141457b2_B146/image_6.png"><img style="border-right-width: 0px; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px" border="0" alt="image" src="\images\posts\49918\image_thumb_2.png" width="475" height="492" /></a> </p>  <p> </p>  <p>設定好後，若有需要可以透過剛剛加入的外部工具選單選像去執行平行建置，也可以把它加到工具列按鈕使用。</p>  <p><a href="http://files.dotblogs.com.tw/larrynung/1111/c146141457b2_B146/image_8.png"><img style="border-right-width: 0px; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px" border="0" alt="image" src="\images\posts\49918\image_thumb_3.png" width="411" height="547" /></a></p>  <p> </p>  <h2>Link</h2>  <ul>   <li><a href="http://www.hanselman.com/blog/HackParallelMSBuildsFromWithinTheVisualStudioIDE.aspx" target="_blank">Hack: Parallel MSBuilds from within the Visual Studio IDE </li> </ul>