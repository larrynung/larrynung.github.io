---
layout: post
title: "Google App Engine 1.8.2 New Feature - Push-to-Deploy"
date: 2013-11-06 12:00:00
comments: true
tags: 
description: "Google App Engine 1.8.2 New Feature - Push-to-Deploy"
---
<p>
	Google App Engine 1.8.2開始支援Git，允許透過Git Push的方式來做佈署的動作。這邊簡單的紀錄一下。</p>
<p>
	 </p>
<p>
	首先進到Application的Dashboard，在頁面的左側找到Application Settings的連結後用滑鼠點擊。</p>
<p>
	<img alt="image" border="0" height="429" src="\images\posts\e22104b8-d18c-46f9-bde5-b8b7f791dab9\image_thumb.png" style="border-top: 0px; border-right: 0px; border-bottom: 0px; border-left: 0px" width="644" /></p>
<p>
	 </p>
<p>
	在右側這邊找到Source Push-to-Deploy的設定區，點擊[Enable Push-to-Deploy...]按鈕。</p>
<p>
	<img alt="image" border="0" height="314" src="\images\posts\e22104b8-d18c-46f9-bde5-b8b7f791dab9\image_thumb_1.png" style="border-top: 0px; border-right: 0px; border-bottom: 0px; border-left: 0px" width="644" /></p>
<p>
	 </p>
<p>
	點擊後Source Push-to-Deploy設定區會變成像下面這樣：</p>
<p>
	<img alt="image" border="0" height="408" src="\images\posts\e22104b8-d18c-46f9-bde5-b8b7f791dab9\image_thumb_2.png" style="border-top: 0px; border-right: 0px; border-bottom: 0px; border-left: 0px" width="644" /></p>
<p>
	 </p>
<p>
	可以看到裡面會有個get your auth token連結，可以用來取得我們佈署所需要的認證碼。另外裡面還有一串網址，表示對應的repository位置，後面在用Git Push佈署時才知道是要Push到哪邊。</p>
<p>
	 </p>
<p>
	接者用滑鼠點擊get your auth token連結。</p>
<p>
	<img alt="image" border="0" height="351" src="\images\posts\e22104b8-d18c-46f9-bde5-b8b7f791dab9\image_thumb_3.png" style="border-top: 0px; border-right: 0px; border-bottom: 0px; border-left: 0px" width="644" /></p>
<p>
	 </p>
<p>
	點擊後會要求授權，這邊直接按下[接受]按鈕繼續。</p>
<p>
	<img alt="image" border="0" height="453" src="\images\posts\e22104b8-d18c-46f9-bde5-b8b7f791dab9\image_thumb_4.png" style="border-top: 0px; border-right: 0px; border-bottom: 0px; border-left: 0px" width="502" /></p>
<p>
	 </p>
<p>
	授權接受後會給予一串認證碼，將這認證碼選取複製。</p>
<p>
	<img alt="image" border="0" height="147" src="\images\posts\e22104b8-d18c-46f9-bde5-b8b7f791dab9\image_thumb_5.png" style="border-top: 0px; border-right: 0px; border-bottom: 0px; border-left: 0px" width="374" /></p>
<p>
	 </p>
<p>
	開啟檔案總管將之切至%USERPROFILE%下，建立一個名為_netrc的檔案，檔案的內容需要遵循下面格式：</p>
<div class="wlWriterSmartContent" id="scid:812469c5-0cb0-4c63-8c15-c81123a09de7:b4d8fc6b-cc59-4084-bf27-bcf360737970" style="float: none; padding-bottom: 0px; padding-top: 0px; padding-left: 0px; margin: 0px; display: inline; padding-right: 0px">
	<pre class="xml" name="code">
machine code.google.com login &lt;email-address&gt; password &lt;auth-token&gt;</pre>
</div>
<p>
	 </p>
<p>
	其中&lt;email-address&gt;就是您的gmail帳號，&lt;auth-token&gt;就是上面我們所複製的認證碼。所以檔案內容會像下面這樣：</p>
<p>
	<img alt="image" border="0" height="484" src="\images\posts\e22104b8-d18c-46f9-bde5-b8b7f791dab9\image_thumb_8.png" style="border-top: 0px; border-right: 0px; border-bottom: 0px; border-left: 0px" width="618" /></p>
<p>
	 </p>
<p>
	再來我們必須要設定HOME環境變數，可以在命令提示字元中呼叫命令"setx HOME %USERPROFILE%"。</p>
<p>
	<img alt="image" border="0" height="87" src="\images\posts\e22104b8-d18c-46f9-bde5-b8b7f791dab9\image_thumb_6.png" style="border-top: 0px; border-right: 0px; border-bottom: 0px; border-left: 0px" width="369" /></p>
<p>
	 </p>
<p>
	或是直接在環境變數對話框中設定也可以。</p>
<p>
	<img alt="image" border="0" height="502" src="\images\posts\e22104b8-d18c-46f9-bde5-b8b7f791dab9\image_thumb_9.png" style="border-top: 0px; border-right: 0px; border-bottom: 0px; border-left: 0px" width="461" /></p>
<p>
	 </p>
<p>
	都準備完成後我們可以實際的用Git佈署看看，呼叫命令"git remote add appengine <code>&lt;repo-url&gt;</code>" (這邊的<code>&lt;repo-url&gt;</code>指的就是上面我們按下[Enable Push-to-Deploy...]按鈕後所顯示出來的repo URL)將遠端的repository加入。</p>
<p>
	<img alt="image" border="0" height="41" src="\images\posts\e22104b8-d18c-46f9-bde5-b8b7f791dab9\image_thumb_12.png" style="border-top: 0px; border-right: 0px; border-bottom: 0px; border-left: 0px" width="644" /></p>
<p>
	 </p>
<p>
	再呼叫命令"git push appengine master"就可以將程式佈署上去...</p>
<p>
	<img alt="image" border="0" height="169" src="\images\posts\e22104b8-d18c-46f9-bde5-b8b7f791dab9\image_thumb_11.png" style="border-top: 0px; border-right: 0px; border-bottom: 0px; border-left: 0px" width="518" /></p>
<p>
	 </p>
<h2>
	Link</h2>
<ul>
	<li>
		Google App Engine 1.8.2 released</li>
	<li>
		Using Git and Push-to-Deploy</li>
</ul>
