---
layout: post
title: "Invoke Team Build with Team Foundation Service"
date: 2013-11-06 12:00:00
comments: true
tags: 
description: "Invoke Team Build with Team Foundation Service"
---
<p>前面介紹了怎樣連結Team Foundation Service，也將我們的專案CheckIn上去了。隨著專案的行進我們總是免不了會有建置組件的需求，不論是手動觸發建置，又或者是每日例行性的建置。因此這邊筆者簡單的隨手紀錄一下要如何才能使用Team Foundation Service來建置我們的專案組件。</p>  <p> </p>  <p>首先我們先點擊Team Explorer內的Builds連結，將 Team Explorer 切至Builds頁面。</p>  <p><img src="\images\posts\e12cb7e1-1658-4dd9-b3ec-c83b0df0fa5f\image_4.png" /> </p>  <p> </p>  <p>點擊New Build Definition連結，開始建立一個新的建置設定。</p>  <p><img style="border-left-width: 0px; border-right-width: 0px; border-bottom-width: 0px; border-top-width: 0px" border="0" alt="image" src="\images\posts\e12cb7e1-1658-4dd9-b3ec-c83b0df0fa5f\image_thumb_2.png" width="304" height="250" /></a> </p>  <p> </p>  <p>建置的動作大概可分為六個步驟：</p>  <p> </p>  <p>第一步我們要為該建置設定取一個識別用的名稱，以及該建置的描述。</p>  <p><a href="http://files.dotblogs.com.tw/larrynung/1305/b70f7bf0cc7c_13DC1/image_10.png"><img style="border-left-width: 0px; border-right-width: 0px; border-bottom-width: 0px; border-top-width: 0px" border="0" alt="image" src="\images\posts\e12cb7e1-1658-4dd9-b3ec-c83b0df0fa5f\image_thumb_4.png" width="644" height="423" /></a> </p>  <p> </p>  <p>第二步要設定建置的週期，是要手動觸發建置、每次上Code舅舅至、還是固定週期去做建置。</p>  <p><a href="http://files.dotblogs.com.tw/larrynung/1305/b70f7bf0cc7c_13DC1/image_12.png"><img style="border-left-width: 0px; border-right-width: 0px; border-bottom-width: 0px; border-top-width: 0px" border="0" alt="image" src="\images\posts\e12cb7e1-1658-4dd9-b3ec-c83b0df0fa5f\image_thumb_5.png" width="644" height="427" /></a> </p>  <p> </p>  <p><font size="3" face="Tahoma" /></p>  <p>第三步決定要進行建置的專案。</p>  <p><a href="http://files.dotblogs.com.tw/larrynung/1305/b70f7bf0cc7c_13DC1/image_14.png"><img style="border-left-width: 0px; border-right-width: 0px; border-bottom-width: 0px; border-top-width: 0px" border="0" alt="image" src="\images\posts\e12cb7e1-1658-4dd9-b3ec-c83b0df0fa5f\image_thumb_6.png" width="644" height="427" /></a> </p>  <p> </p>  <p><font size="3" face="Tahoma" /></p>  <p>第四步設定建置出來的檔案所要存放位置。</p>  <p><a href="http://files.dotblogs.com.tw/larrynung/1305/b70f7bf0cc7c_13DC1/image_16.png"><img style="border-left-width: 0px; border-right-width: 0px; border-bottom-width: 0px; border-top-width: 0px" border="0" alt="image" src="\images\posts\e12cb7e1-1658-4dd9-b3ec-c83b0df0fa5f\image_thumb_7.png" width="644" height="426" /></a> </p>  <p> </p>  <p><font size="3" face="Tahoma" /></p>  <p>第五步設定細部的雜項設定。</p>  <p><a href="http://files.dotblogs.com.tw/larrynung/1305/b70f7bf0cc7c_13DC1/image_18.png"><img style="border-left-width: 0px; border-right-width: 0px; border-bottom-width: 0px; border-top-width: 0px" border="0" alt="image" src="\images\posts\e12cb7e1-1658-4dd9-b3ec-c83b0df0fa5f\image_thumb_8.png" width="644" height="428" /></a> </p>  <p> </p>  <p>像是Items to Build項目就可進一步設定建置的組件是Debug還是Release。</p>  <p><a href="http://files.dotblogs.com.tw/larrynung/1305/b70f7bf0cc7c_13DC1/image_20.png"><img style="border-left-width: 0px; border-right-width: 0px; border-bottom-width: 0px; border-top-width: 0px" border="0" alt="image" src="\images\posts\e12cb7e1-1658-4dd9-b3ec-c83b0df0fa5f\image_thumb_9.png" width="513" height="405" /></a> </p>  <p> </p>  <p>也可以設定建置出來的是x86組件還是Any CPU的組件。</p>  <p><a href="http://files.dotblogs.com.tw/larrynung/1305/b70f7bf0cc7c_13DC1/image_22.png"><img style="border-left-width: 0px; border-right-width: 0px; border-bottom-width: 0px; border-top-width: 0px" border="0" alt="image" src="\images\posts\e12cb7e1-1658-4dd9-b3ec-c83b0df0fa5f\image_thumb_10.png" width="513" height="408" /></a> </p>  <p> </p>  <p>除此之外還有其他可能會需要用到的設定，像是是否運行單元測試、以及是否啟用多核建置…等等。</p>  <p> </p>  <p>第六步設定建置出來的組件要保留多少，以及進行刪除時要刪除那些。(沒什麼太大的原因需要做調整的話，這步驟可直接跳過)</p>  <p><a href="http://files.dotblogs.com.tw/larrynung/1305/b70f7bf0cc7c_13DC1/image_24.png"><img style="border-left-width: 0px; border-right-width: 0px; border-bottom-width: 0px; border-top-width: 0px" border="0" alt="image" src="\images\posts\e12cb7e1-1658-4dd9-b3ec-c83b0df0fa5f\image_thumb_11.png" width="644" height="424" /></a> </p>  <p> </p>  <p>設定完後按下熱鍵Ctrl + s進行存檔，Team Explore會出現剛剛我們所加入的建置設定。</p>  <p><a href="http://files.dotblogs.com.tw/larrynung/1305/b70f7bf0cc7c_13DC1/image_26.png"><img style="border-left-width: 0px; border-right-width: 0px; border-bottom-width: 0px; border-top-width: 0px" border="0" alt="image" src="\images\posts\e12cb7e1-1658-4dd9-b3ec-c83b0df0fa5f\image_thumb_12.png" width="304" height="273" /></a> </p>  <p> </p>  <p><font size="3" face="Tahoma" /></p>  <p>建置設定設好，我們開始進行實際的建置測試。如果剛剛不是設定週期性或是自動的建置，我們可以在剛產生的建置設定上方按下滑鼠右鍵，在彈出的滑鼠右鍵快顯選單中，選取Queue New Build...選單選項，主動觸發建置的動作。</p>  <p><a href="http://files.dotblogs.com.tw/larrynung/1305/b70f7bf0cc7c_13DC1/image_28.png"><img style="border-left-width: 0px; border-right-width: 0px; border-bottom-width: 0px; border-top-width: 0px" border="0" alt="image" src="\images\posts\e12cb7e1-1658-4dd9-b3ec-c83b0df0fa5f\image_thumb_13.png" width="302" height="244" /></a> </p>  <p> </p>  <p>這邊也可以透過Build Explorer的工具列來觸發建置的動作。</p>  <p><a href="http://files.dotblogs.com.tw/larrynung/1305/b70f7bf0cc7c_13DC1/image_42.png"><img style="border-left-width: 0px; border-right-width: 0px; border-bottom-width: 0px; border-top-width: 0px" border="0" alt="image" src="\images\posts\e12cb7e1-1658-4dd9-b3ec-c83b0df0fa5f\image_thumb_20.png" width="480" height="197" /></a> </p>  <p> </p>  <p>建置動作觸發後，Visual Studio會先彈出Queue Build的對話框要求使用者確認，除了觸發的建置資訊外，這邊還有建置的優先權可做調整。若沒什麼問題，可以按下Queue的按鈕將建置動作加入Queue。</p>  <p><a href="http://files.dotblogs.com.tw/larrynung/1305/b70f7bf0cc7c_13DC1/image_30.png"><img style="border-left-width: 0px; border-right-width: 0px; border-bottom-width: 0px; border-top-width: 0px" border="0" alt="image" src="\images\posts\e12cb7e1-1658-4dd9-b3ec-c83b0df0fa5f\image_thumb_14.png" width="479" height="535" /></a> </p>  <p> </p>  <p><span style="white-space: normal; text-transform: none; word-spacing: 0px; float: none; color: rgb(0,0,0); font: medium tahoma; orphans: 2; widows: 2; display: inline !important; letter-spacing: normal; text-indent: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px">建置動作Queue起來後，Team Foundation Service有空時就會開始運行建置，建置完成我們可在Team Explorer或是Build Explorer看到建置的結果。</span></p>  <p><a href="http://files.dotblogs.com.tw/larrynung/1305/b70f7bf0cc7c_13DC1/image_32.png"><img style="border-left-width: 0px; border-right-width: 0px; border-bottom-width: 0px; border-top-width: 0px" border="0" alt="image" src="\images\posts\e12cb7e1-1658-4dd9-b3ec-c83b0df0fa5f\image_thumb_15.png" width="301" height="145" /></a> </p>  <p><a href="http://files.dotblogs.com.tw/larrynung/1305/b70f7bf0cc7c_13DC1/image_34.png"><img style="border-left-width: 0px; border-right-width: 0px; border-bottom-width: 0px; border-top-width: 0px" border="0" alt="image" src="\images\posts\e12cb7e1-1658-4dd9-b3ec-c83b0df0fa5f\image_thumb_16.png" width="644" height="162" /></a> </p>  <p> </p>  <p><span style="white-space: normal; text-transform: none; word-spacing: 0px; float: none; color: rgb(0,0,0); font: medium tahoma; orphans: 2; widows: 2; display: inline !important; letter-spacing: normal; text-indent: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px" /></p>  <p><span style="white-space: normal; text-transform: none; word-spacing: 0px; float: none; color: rgb(0,0,0); font: medium tahoma; orphans: 2; widows: 2; display: inline !important; letter-spacing: normal; text-indent: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px">我們也可以至Team Foundation Service網站上查看，並將建置後的組件打包下載。</span><a href="http://files.dotblogs.com.tw/larrynung/1305/b70f7bf0cc7c_13DC1/image_36.png"><img style="border-left-width: 0px; border-right-width: 0px; border-bottom-width: 0px; border-top-width: 0px" border="0" alt="image" src="\images\posts\e12cb7e1-1658-4dd9-b3ec-c83b0df0fa5f\image_thumb_17.png" width="644" height="290" /></a> </p>  <p><a href="http://files.dotblogs.com.tw/larrynung/1305/b70f7bf0cc7c_13DC1/image_38.png"><img style="border-left-width: 0px; border-right-width: 0px; border-bottom-width: 0px; border-top-width: 0px" border="0" alt="image" src="\images\posts\e12cb7e1-1658-4dd9-b3ec-c83b0df0fa5f\image_thumb_18.png" width="644" height="420" /></a> </p>  <p><a href="http://files.dotblogs.com.tw/larrynung/1305/b70f7bf0cc7c_13DC1/image_40.png"><img style="border-left-width: 0px; border-right-width: 0px; border-bottom-width: 0px; border-top-width: 0px" border="0" alt="image" src="\images\posts\e12cb7e1-1658-4dd9-b3ec-c83b0df0fa5f\image_thumb_19.png" width="574" height="302" /></p>