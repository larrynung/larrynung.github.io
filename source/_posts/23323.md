---
layout: post
title: "[.NET Resource]JSON C# Class Generator"
date: 2011-04-22 12:35:04
comments: true
categories: [C#,.NET Resource]
description: "[.NET Resource]JSON C# Class Generator"
---
<p>
	JSON C# Class Generator為一C# JSON類別產生工具，能接受輸入JSON字串，產生其所對應的強型別類別。使用時需先至JSON C# Class Generator下載工具程式，解壓縮後雙擊開啟。左上方可設定命名空間、類別名稱、與輸出目錄等資訊。右上方可設定產生要屬性或欄位、可視層級、是否產生輔助類別、與是否轉為Pascal命名。程式下方則是用來輸入要轉換的JSON字串。</p>
<p>
	<img alt="image" border="0" height="514" src="\images\posts\23323\image_thumb.png" width="684" /></p>
<p>
	 </p>
<p>
	資料填齊後，按下右下方的[Generate]按鈕，所有產生出來的類別即會存放在所指定的目錄。<br />
	<img alt="image" border="0" height="421" src="\images\posts\23323\image_thumb_1.png" width="469" /></p>
<p>
	 </p>
<p>
	開發時將Newtonsoft.Json.dll加入參考，並將產出的類別放入專案中，即可直接透過產出的類別開發。透過JSON C# Class Generator所產生的類別會具備直接載入JSON字串的能力，不需在建立類別後自行塞入資料，也不需透過解序列化的方式取得資料，只需在建構的同時將JSON字串帶入即可。</p>
<p>
	...</p>
<p>
	const string url = @"http://api.tudou.com/v3/gw?method=album.channel.get&amp;appKey=myKey&amp;format=json&amp;channel=m&amp;pageNo=1&amp;pageSize=10";<br />
	var tudouVideoAlbum = new TudouVideoAlbum(GetHTMLSourceCode(url));</p>
<p>
	...</p>
<p>
	 </p>
<p>
	這邊以Tudou視頻網站示範，可以看到透過所產生的類別來處理整個解析動作就不需要我們自行處理了，撰寫速度大幅提升，完整範例如下：</p>
<p>
	using System;<br />
	using System.Collections.Generic;<br />
	using System.ComponentModel;<br />
	using System.Data;<br />
	using System.Drawing;<br />
	using System.Linq;<br />
	using System.Text;<br />
	using System.Windows.Forms;<br />
	using Tudou;<br />
	using System.Net;<br />
	using System.IO;</p>
<p>
	namespace WindowsFormsApplication4<br />
	{<br />
	public partial class Form1 : Form<br />
	{<br />
	  public Form1()<br />
	  {<br />
	   InitializeComponent();<br />
	  }</p>
<p>
	  private string GetHTMLSourceCode(string url)<br />
	  {<br />
	   HttpWebRequest request = (WebRequest.Create(url)) as HttpWebRequest;<br />
	   HttpWebResponse response = request.GetResponse() as HttpWebResponse;<br />
	   using (StreamReader sr = new StreamReader(response.GetResponseStream()))<br />
	   {<br />
	    return sr.ReadToEnd();<br />
	   }<br />
	  }</p>
<p>
	  private void Form1_Load(object sender, EventArgs e)<br />
	  {<br />
	   const string url = @"http://api.tudou.com/v3/gw?method=album.channel.get&amp;appKey=myKey&amp;format=json&amp;channel=m&amp;pageNo=1&amp;pageSize=10";<br />
	   var tudouVideoAlbum = new TudouVideoAlbum(GetHTMLSourceCode(url));<br />
	   foreach (var item in tudouVideoAlbum.MultiResult.Results)<br />
	   {<br />
	    listBox1.Items.Add(item.Name);<br />
	   }<br />
	  }<br />
	}<br />
	}</p>
<p>
	 </p>
<p>
	運行結果：</p>
<p>
	<img alt="image" border="0" height="265" src="\images\posts\23323\image_thumb_2.png" width="277" /></p>
<p>
	 </p>
<h2>
	Download</h2>
<p>
	JSONClassGeneratorDemo.rar</p>
<p>
	 </p>
<h2>
	Link</h2>
<ul>
	<li>
		JSON C# Class Generator</li>
</ul>
