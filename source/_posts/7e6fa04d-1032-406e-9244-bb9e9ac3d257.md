---
layout: post
title: "[網樂通改機]網樂通運行時自動啟動指定的服務"
date: 2013-11-06 12:00:00
comments: true
tags: 
description: "[網樂通改機]網樂通運行時自動啟動指定的服務"
---
<p>
	網樂通改機後我們會裝許多的服務上去，這些服務若要讓網樂通開機時就自動啟動，我們需要做些額外的設定。</p>
<p>
	 </p>
<p>
	首先我們必須要了解到開機的流程主要是看/etc/init.d/rcS這個檔案。我們可以呼叫命令vi /etc/init.d/rcS將該檔案開啟。</p>
<p>
	<img alt="image" border="0" height="160" src="\images\posts\7e6fa04d-1032-406e-9244-bb9e9ac3d257\image_thumb.png" style="border-left-width: 0px; border-right-width: 0px; border-bottom-width: 0px; border-top-width: 0px" width="593" /></p>
<p>
	 </p>
<p>
	可以看到該檔案中描述著開機流程所需要啟動的服務都會定義在其中，特別注意到文件最下面這邊有設定要去看/etc/rc.local這個檔案，如果存在且是可以執行的話，會去呼叫/etc/rc.local這個檔案。</p>
<p>
	<img alt="image" border="0" height="357" src="\images\posts\7e6fa04d-1032-406e-9244-bb9e9ac3d257\image10_thumb.png" style="border-left-width: 0px; border-right-width: 0px; border-bottom-width: 0px; border-top-width: 0px" width="592" /></p>
<p>
	 </p>
<p>
	要啟動的服務一般習慣都會放置在/etc/rc.local這個檔。所以這邊我們呼叫命令vi /etc/rc.local，將/etc/rc.local檔案打開。該檔案若是不在也沒關係，直接呼叫該命令編輯一個新的就可以了。</p>
<p>
	<img alt="image" border="0" height="168" src="\images\posts\7e6fa04d-1032-406e-9244-bb9e9ac3d257\image7_thumb.png" style="border-left-width: 0px; border-right-width: 0px; border-bottom-width: 0px; border-top-width: 0px" width="595" /></p>
<p>
	 </p>
<p>
	按下i進入編輯模式，然後像下圖這樣，將要在開機時啟動的命令寫入進去。</p>
<p>
	<img alt="image" border="0" height="359" src="\images\posts\7e6fa04d-1032-406e-9244-bb9e9ac3d257\image13_thumb.png" style="border-left-width: 0px; border-right-width: 0px; border-bottom-width: 0px; border-top-width: 0px" width="591" /></p>
<p>
	 </p>
<p>
	編輯完成後我們可以按下[Esc]離開編輯，再按下":"，接著輸入"wq"存檔離開。</p>
<p>
	<img alt="image" border="0" height="357" src="\images\posts\7e6fa04d-1032-406e-9244-bb9e9ac3d257\image16_thumb.png" style="border-left-width: 0px; border-right-width: 0px; border-bottom-width: 0px; border-top-width: 0px" width="590" /></p>
<p>
	 </p>
<p>
	最後要記得若是/etc/rc.local這個文件是新建的話，要呼叫命令chmod +x /etc/rc.local，給予這個文件執行的權限。(前面有提到這個檔案必須要是存在且具備執行的權限才會運行)</p>
<p>
	<img alt="image" border="0" height="193" src="\images\posts\7e6fa04d-1032-406e-9244-bb9e9ac3d257\image19_thumb.png" style="border-left-width: 0px; border-right-width: 0px; border-bottom-width: 0px; border-top-width: 0px" width="593" /></p>
<p>
	 </p>
<p>
	這樣下次網樂通通電就會執行/etc/rc.local，運行該文件中所要執行的動作，自動將對應的服務啟動。</p>
