---
title: "停用Debug.Assert警示對話框與啟用訊息記錄"
date: "2013-11-06 12:00:00"
description: "停用Debug.Assert警示對話框與啟用訊息記錄"
---

<p>據Disable System.Diagnostics.Debug.Assert dialogs這篇文章所提，有時我們會有需要將System.Diagnostics.Debug.Assert產生的對話框給停止使用，像是讓電腦自動運行整合測試時，若因為程式中有加入System.Diagnostics.Debug.Assert的判斷，像是：</p>  <p> </p>  <div class="wlWriterSmartContent" id="scid:812469c5-0cb0-4c63-8c15-c81123a09de7:b3b522f7-31e6-4c07-bf03-7374d19fa30b" style="padding-right: 0px; display: inline; padding-left: 0px; float: none; padding-bottom: 0px; margin: 0px; padding-top: 0px"><pre name="code" class="vb">
System.Diagnostics.Debug.Assert(False)</pre></div>  <p> </p>  <p> </p>  <p>在自動運行整合測試時就會因為跳出System.Diagnostics.Debug.Assert對話框而讓整個流程給卡住，待使用者按下對話框的按鈕才可繼續往下測試。</p>  <p><img style="border-top-width: 0px; border-left-width: 0px; border-bottom-width: 0px; border-right-width: 0px" height="429" alt="image" width="639" border="0" src="\images\posts0ca5f42-38a7-4d6a-8ceb-7018575b5f2f\image_thumb_3.png" /></a></p>  <p> </p>  <p>要將System.Diagnostics.Debug.Assert對話框給停止動作，我們可以為程式專案或是測試專案加上應用程式組態檔。</p>  <p><a href="http://files.dotblogs.com.tw/larrynung/1008/System.Diagnostics.Debug.Assert_AA39/image_4.png"><img style="border-top-width: 0px; border-left-width: 0px; border-bottom-width: 0px; border-right-width: 0px" height="364" alt="image" width="644" border="0" src="\images\posts0ca5f42-38a7-4d6a-8ceb-7018575b5f2f\image_thumb_1.png" /></a></p>  <p><a href="http://files.dotblogs.com.tw/larrynung/1008/System.Diagnostics.Debug.Assert_AA39/image_6.png"><img style="border-top-width: 0px; border-left-width: 0px; border-bottom-width: 0px; border-right-width: 0px" height="146" alt="image" width="178" border="0" src="\images\posts0ca5f42-38a7-4d6a-8ceb-7018575b5f2f\image_thumb_2.png" /></p>  <p> </p>  <p>加入應用程式組態檔後，開啟加入的應用程式組態檔，為其添加assert Xml元素標籤，並設定assertuienabled屬性值為false即可。</p>  <div class="wlWriterSmartContent" id="scid:812469c5-0cb0-4c63-8c15-c81123a09de7:26c066b9-b938-414a-95c0-36e81cf58361" style="padding-right: 0px; display: inline; padding-left: 0px; float: none; padding-bottom: 0px; margin: 0px; padding-top: 0px"><pre name="code" class="xml">
&lt;assert assertuienabled="false" /&gt;</pre></div>  <p> </p>  <p>像是：</p>  <p><img style="border-top-width: 0px; border-left-width: 0px; border-bottom-width: 0px; border-right-width: 0px" height="475" alt="image" width="503" border="0" src="\images\posts0ca5f42-38a7-4d6a-8ceb-7018575b5f2f\image_thumb.png" /></p>  <p> </p>  <p>加完後再次運行就會發現System.Diagnostics.Debug.Assert對話框不會再跳出了。</p>  <p> </p>  <p>除了關閉System.Diagnostics.Debug.Assert對話框的警示外，您也可以為其添加訊息記錄，透過assert Xml元素的logfilename屬性，為其指定訊息記錄存放位置即可。</p>  <div class="wlWriterSmartContent" id="scid:812469c5-0cb0-4c63-8c15-c81123a09de7:2fd27dff-e156-4540-be3c-699405716632" style="padding-right: 0px; display: inline; padding-left: 0px; float: none; padding-bottom: 0px; margin: 0px; padding-top: 0px"><pre name="code" class="xml">
&lt;assert assertuienabled="false" logfilename="c:\log.txt" /&gt;</pre></div>  <p> </p>  <p>像是：</p>  <p><img style="border-right: 0px; border-top: 0px; border-left: 0px; border-bottom: 0px" height="471" alt="image" width="497" border="0" src="\images\posts0ca5f42-38a7-4d6a-8ceb-7018575b5f2f\image_thumb_4.png" /></a></p>  <p> </p>  <p>設完運行，即可在指定的位置找到訊息記錄檔，其格式如下：</p>  <p><a href="http://files.dotblogs.com.tw/larrynung/1008/System.Diagnostics.Debug.Assert_AA39/image_12.png"><img style="border-right: 0px; border-top: 0px; border-left: 0px; border-bottom: 0px" height="329" alt="image" width="562" border="0" src="\images\posts0ca5f42-38a7-4d6a-8ceb-7018575b5f2f\image_thumb_5.png" /></a></p>  <p> </p>  <h2>Link</h2>  <ul>   <li><h4><a target="_blank" href="http://blog.benhall.me.uk/2008/05/disable-systemdiagnosticsdebugassert.html">Disable System.Diagnostics.Debug.Assert dialogs</a></h4></li>    <li><h4><a target="_blank" href="http://msdn.microsoft.com/zh-tw/library/system.diagnostics.debug.assert(VS.80).aspx">Debug.Assert 方法</a></h4></li>    <li><h4><a target="_blank" href="http://msdn.microsoft.com/en-us/library/ty5e4c4h.aspx">&lt;assert&gt; Element</h4></li> </ul>
